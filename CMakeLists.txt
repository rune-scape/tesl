cmake_minimum_required(VERSION 3.16)
project(tesl C CXX)

set(CMAKE_CXX_STANDARD 17)
if (MSVC)
    set(CMAKE_MSVC_RUNTIME_LIBRARY "MultiThreaded$<$<CONFIG:Debug>:Debug>")
endif ()

add_executable(tesl main.cpp tesl.hpp tesl.cpp printf.h printf.c)
if (MSVC)
#    add_compile_options("/fsanitize=address")
#    add_link_options("/fsanitize=address")
else()
    set_target_properties(tesl PROPERTIES COMPILE_OPTIONS "-m32" LINK_FLAGS "-m32")
endif()
